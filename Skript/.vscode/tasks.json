// add pythonpath to your workspace json file in section "settings": 
// "python.pythonPath": "..\\..\\env_male\\Scripts\\python.exe"
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "asciitoctor-revealjs",
            "type": "shell",            
            "command": "docker run --rm -it -v .:/documents asciidoctor/docker-asciidoctor asciidoctor-revealjs -r asciidoctor-diagram  -a githash=${input:githash} -D modules/ -v -w  modules/*.slides.adoc",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            }
        },
        {
            "label": "asciitoctor-pdf",
            "type": "shell",
            "command": "docker run --rm -it -v .:/documents asciidoctor/docker-asciidoctor asciidoctor-pdf -r asciidoctor-diagram -r asciidoctor-mathematical -a githash=${input:githash} -D out/pdf -v -w modules/*.doc.adoc",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            }
        }
        ,
        {
            "label": "docbook",
            "type": "shell",
            "command": "docker run --rm -it -v .:/documents asciidoctor/docker-asciidoctor asciidoctor -b docbook5 -r asciidoctor-diagram -a githash=${input:githash} -v -w modules/*.doc.adoc",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            }
        }
        ,
        {
            "label": "db2latex",
            "type": "shell",
            "command": "docker run --rm -it -v .:/documents mmunz/tex dblatex  -s /documents/templates/asciidoc-dblatex.sty -p /documents/templates/asciidoc-dblatex.xsl -T simple -t pdf /documents/modules/LECTURENAME.doc.xml -o /documents/out/pdf/LECTURENAME.doc.pdf",            
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },
        }  
        ,
        {
            "label": "pdf (via docbook)",
            "type": "shell",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },
            "dependsOrder": "sequence",
            "dependsOn": ["docbook", "db2latex"]
        }                    
        ,
        {
            "label": "asciitoctor-html",
            "type": "shell",            
            "command": "docker run --rm -it -v .:/documents asciidoctor/docker-asciidoctor asciidoctor -b xhtml5 -a githash=${input:githash} -r asciidoctor-diagram -a data-uri -allow-uri-read -D out/html -v -w modules/*.doc.adoc ",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },                     
        }
        ,
        { 
            "label": "build all",
            "type": "shell",            
            "group": "build",
            "dependsOn": ["asciitoctor-revealjs", "pdf (via docbook)", "asciitoctor-html"]
        }
        ,
        {
            "label": "deploy onedrive",
            "type": "shell",            
            "command": "xcopy /f /y /s out\\*.* \"${userHome}\\OneDrive - thu.de\\_public\\Lehre\\LECTURENAME\\lecture_notes\\\"",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },   
        }
        ,
        {
            "label": "deploy public",
            "type": "shell",            
            "command": "xcopy /f /y /s out\\*.* p:\\mmunz\\Lehre\\LECTURENAME\\lecture_notes\\",
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },   
        }        
        ,
        {
            "label": "build and deploy public",
            "type": "shell",                        
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },   
            "dependsOrder": "sequence",
            "dependsOn": ["build all","deploy public"]

        },
        {
            "label": "deploy examples",
            "type": "shell",      
            "command": "${command:python.interpreterPath}",  
            "args": [
                "build/deploy_code.py", "P:/mmunz/Lehre/LECTURENAME/lab/inputs"
            ],                
            "group": "build",
            "presentation": {
                "reveal": "always",
                "revealProblems": "onProblem",
                "panel": "dedicated"
            },   
        }
    ]
    ,
    "inputs": [
        {        
            "id": "githash",
            "type": "command",
            "command": "shellCommand.execute",
                "args": {
                    "command": "git rev-parse --short HEAD",
                    "useSingleResult": true
                }   
        },
        
    ]
}